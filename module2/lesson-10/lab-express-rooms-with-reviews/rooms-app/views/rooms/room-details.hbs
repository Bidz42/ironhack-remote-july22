<h1>Welcome to the details page of the {{ room.name }}</h1>
<p>This room is posted by: <b> {{ room.owner.fullName }} </b></p>
<hr>
<h3>Description:</h3>
<p> {{ room.description }}</p>
<hr>
<h3>Gallery:</h3>
<img src="{{room.imageUrl}}" alt="" width="300">

{{#if isOwner}}
  <button id="toggle-button">Update room details</button>

  <form action="/rooms/edit/{{room._id}}/" method="post" id="edit-form" > 
    <label for="">Name</label>
    <input type="text" name="name" id="" value="{{room.name}}">

    <label for="">Description</label>
    <textarea name="description" id="" cols="30" rows="10"> {{room.description}} </textarea>

    <img src="{{room.imageUrl}}" alt="" width="200">
    <label for="">Upload new image</label>
    <input type="text" name="imageUrl" id="" value="{{room.imageUrl}}"> 

    <button type="submit">Save changes</button>
  </form>
  <br/>
  <form action="/rooms/delete/{{room._id}}" method="post">
    <button type="submit">Delete this room</button>
  </form>
{{/if}}

{{!-- if there are reviews, show them, if not, forget about it ðŸ™ƒ --}}
{{#if room.reviews}}
  <h3>Reviews:</h3>
  {{#each room.reviews}}
    <p> <b>{{ this.user.fullName }} said: </b> {{ this.comment }}  </p>
    {{#if this.canBeChanged}}
      <a href="/reviews/{{this._id}}">Edit</a>
      <form action="/reviews/{{this._id}}" method="POST">
        <button type="submit"> Delete </button>
      </form>
    {{/if}}
  {{/each}}
{{/if}}

<hr>
{{!-- USER CAN NOT LEAVE REVIEWS ON THEIR OWN PROPERTIES --}}
{{!-- this means that only if the user IS NOT the owner, this form will be shown --}}
{{#if isNotOwner}}
  <h2>Add a review:</h2>
  <form action="/reviews/create/{{room._id}}" method="POST">
    <textarea name="comment" id="" cols="10" rows="5"></textarea>
    <button type="submit">Add</button>
  </form>
{{/if}}